<!DOCTYPE html>
<html>

<head>
	<title>Carsale AJAX example</title>
	<script>
		function getCars() {

			var ajaxRequest = new XMLHttpRequest();
			ajaxRequest.onreadystatechange = function () {

				if (ajaxRequest.readyState == 4) {

					if (ajaxRequest.status == 200) {

						var jsonObj = JSON.parse(ajaxRequest.responseText);

						var curriculumVitae = jsonObj.curriculumVitae;

						document.getElementById("header").innerHTML = curriculumVitae.header;
						document.getElementById("test").innerHTML = curriculumVitae.test;
						document.getElementById("personalInfo").innerHTML = curriculumVitae.personalInfo;
						//document.getElementById("header").style.color = "red";

						var i, j, k, content = "";

						for (i in curriculumVitae.content) {
							content += "<h3>" + curriculumVitae.content[i].topic + "</h3>";
							for (j in curriculumVitae.content[i].subTopics) {
								content += "<h4>" + curriculumVitae.content[i].subTopics[j].subTopicHeader + "</h4>";
								for (k in curriculumVitae.content[i].subTopics[j].subTopicText) {
									content += curriculumVitae.content[i].subTopics[j].subTopicText[k];
								}
								for (k in curriculumVitae.content[i].subTopics[j].subTopicInfo) {
									content += "<li>" + curriculumVitae.content[i].subTopics[j].subTopicInfo[k];
								}
								"<br>"
							}
						}

						document.getElementById("content").innerHTML = content;

					}
					else {
						console.log("Status error: " + ajaxRequest.status);
					}
				}
				else {
					console.log("Ignored readyState: " + ajaxRequest.readyState);
				}


			}
			ajaxRequest.open('GET', './data/data.json');
			ajaxRequest.send();
		}

	</script>


</head>

<body onload="getCars()">
	<div id="header"></div>
	<div id="test"></div>
	<div id="personalInfo"></div>
	<div id="content"></div>
</body>

</html>